<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="keywords" content="">
	<meta name="description" content="Fan Made Exact Exp Calc For DelugeRPG">
	<title>Experience Calculator</title>
	<link rel="stylesheet" type="text/css" href="./easyui.css">
	<link rel="stylesheet" type="text/css" href="./icon.css">
	<script type="text/javascript" src="./jquery-1.6.1.min.js"></script>
	<script type="text/javascript" src="./jquery.easyui.min.js"></script>
	<style type="text/css">
		.products{
			list-style:none;
			margin-right:400px;
			padding:0px;
			height:100%;
		}
		.products li{
			display:inline;
			float:left;
			margin:10px;
		}
		.item{
			width:200px;
			border-left:1px solid #ffffff;
			border-top:1px solid #ffffff;
			border-right:1px solid #5e5e5f;
			border-bottom:1px solid #5e5e5f;
			display:block;
			text-decoration:none;
			background:#e8ecef;
		}
		.item img{
			border:1px solid #333;
		}
		.item p{
			margin:0;
			font-family: "Arial, Helvetica, sans-serif";
			text-align:center;
			color:#343434;
		}
		.remove{
			font-family: "Arial, Helvetica, sans-serif";
			text-align:center;
			color:#343434;
			text-decoration:none;
			
		}
		.cart{
			position:fixed;
			right:0;
			top:0;
			width:420px;
			height:100%;
			background:#d5d9dc;
			padding:0px 10px;
			background-image: url("./exper-bg.jpg");
			background-position: left top ;
		}
		h1{
			text-align:center;
			color:#555;
		}
		h2{
			position:absolute;
			font-size:16px;
			left:10px;
			bottom:20px;
			color:#555;
		}
		.total{
			margin:0;
			text-align:right;
			padding-right:20px;
		}
	</style>
	<script>
		var data = {"total":0,"rows":[]};
		var totalCost = 0;
		
		$(function(){
		
		$('#cartcontent').datagrid({
				singleSelect:true
			});
			$('.item').draggable({
				revert:true,
				proxy:'clone',
				onStartDrag:function(){
					$(this).draggable('options').cursor = 'not-allowed';
					$(this).draggable('proxy').css('z-index',10);
				},
				onStopDrag:function(){
					$(this).draggable('options').cursor='move';
				}
			});
			$('.cart').droppable({
				onDragEnter:function(e,source){
					$(source).draggable('options').cursor='auto';
				},
				onDragLeave:function(e,source){
					$(source).draggable('options').cursor='not-allowed';
				},
				onDrop:function(e,source){
					var name = $(source).find('p:eq(0)').html();
					var exp = $(source).find('p:eq(1)').html();
					addProduct(name, parseFloat(exp.split(':')[1]));
				}
			});
		});

	function addProduct(name,exp){
		function add(){
			for(var i=0; i<data.total; i++){
				var row = data.rows[i];
				if (row.name == name){
					row.quantity += 1;
					return;
				}
			}
			data.total += 1;
			data.rows.push({
				name:name,
				quantity:1,
				exp:exp,
                remove: '<a href="#" class="remove" onclick="removeProduct(this, event)">X</a>'
			});
		}
		add();
		totalCost += exp;
		$('#cartcontent').datagrid('loadData', data);
		$('div.cart .total').html('Total: :'+totalCost);
	}

function removeProduct(el, event) {
    var tr = $(el).closest('tr');
    var name = tr.find('td[field=name]').text();
    var exp = tr.find('td[field=exp]').text();
    var quantity = tr.find('td[field=quantity]').text();
    for(var i = 0; i < data.total; i++){
        var row = data.rows[i];
        if (row.name == name) {
            data.rows.splice(i, 1);
            data.total--;
            break;
        }
    }
    totalCost -=  exp * quantity;
    $('#cartcontent').datagrid('loadData', data);
    $('div.cart .total').html('Total: :'+totalCost);
}
			
	function fncSum()
	{
		 if(isNaN(document.frmMain.txtNumberA.value) || document.frmMain.txtNumberA.value == "")
		 {
			alert('(Number A)Please input Number only.');
			document.frmMain.txtNumberA.focus();
			return;
		 }

		 if(isNaN(document.frmMain.txtNumberB.value) || document.frmMain.txtNumberB.value == "")
		 {
			alert('(Number B)Please input Number only.');
			document.frmMain.txtNumberB.focus();
			return;
		 }
  <!--  for(var i = 0; i < data.total; i++){ data.rows.splice(i, 1); data.total--; break; } -->
		 totalCost = parseFloat(document.frmMain.txtNumberB.value) - parseFloat(document.frmMain.txtNumberA.value);
		 document.frmMain.txtNumberC.value = parseFloat(document.frmMain.txtNumberA.value) - parseFloat(document.frmMain.txtNumberB.value);
		 $('#cartcontent').datagrid('selectAll');
		 
		 var rows = $('#cartcontent').datagrid('getSelections');  // get all selected rows
for(var i=rows.length-1; i>= 0; i--){
   var index = $('#cartcontent').datagrid('getRowIndex',rows.id);  // get the row index
   $('#cartcontent').datagrid('deleteRow',index);
}
		 
		 
		 $('div.cart .total').html('Total: :'+totalCost);
	}

	</script>
</head>
<body style="margin:0;padding:0;height:100%;background:#e5e9ec;">
<form name="frmMain" action="" method="post">
	<ul class="products">
	
<li><a href="#" class="item"><div><p> Kanto : Brock </p><p> Exp. : 539 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kanto : Misty </p><p> Exp. : 808 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kanto : Lt. Surge </p><p> Exp. : 1305 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kanto : Erika </p><p> Exp. : 1699 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kanto : Janine </p><p> Exp. : 4868 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kanto : Sabrina </p><p> Exp. : 3335 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kanto : Blaine </p><p> Exp. : 3459 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kanto : Giovanni </p><p> Exp. : 4682 </p></div></a></li>

<li><a href="#" class="item"><div><p> Johto : Falkner </p><p> Exp. : 456 </p></div></a></li>
<li><a href="#" class="item"><div><p> Johto : Bugsy </p><p> Exp. : 974 </p></div></a></li>
<li><a href="#" class="item"><div><p> Johto : Whitney </p><p> Exp. : 746 </p></div></a></li>
<li><a href="#" class="item"><div><p> Johto : Morty </p><p> Exp. : 1864 </p></div></a></li>
<li><a href="#" class="item"><div><p> Johto : Chuck </p><p> Exp. : 1243 </p></div></a></li>
<li><a href="#" class="item"><div><p> Johto : Jasmine </p><p> Exp. : 1968 </p></div></a></li>
<li><a href="#" class="item"><div><p> Johto : Pryce </p><p> Exp. : 1989 </p></div></a></li>
<li><a href="#" class="item"><div><p> Johto : Clair </p><p> Exp. : 3211 </p></div></a></li>

<li><a href="#" class="item"><div><p> Hoenn : Roxanne </p><p> Exp. : 539 </p></div></a></li>
<li><a href="#" class="item"><div><p> Hoenn : Brawly </p><p> Exp. : 621 </p></div></a></li>
<li><a href="#" class="item"><div><p> Hoenn : Wattson </p><p> Exp. : 1222 </p></div></a></li>
<li><a href="#" class="item"><div><p> Hoenn : Flannery </p><p> Exp. : 1657 </p></div></a></li>
<li><a href="#" class="item"><div><p> Hoenn : Norman </p><p> Exp. : 1781 </p></div></a></li>
<li><a href="#" class="item"><div><p> Hoenn : Winona </p><p> Exp. : 2776 </p></div></a></li>
<li><a href="#" class="item"><div><p> Hoenn : Tate & Liza </p><p> Exp. : 1864 </p></div></a></li>
<li><a href="#" class="item"><div><p> Hoenn : Wallace </p><p> Exp. : 4599 </p></div></a></li>
<li><a href="#" class="item"><div><p> Hoenn : Juan </p><p> Exp. : 4433 </p></div></a></li>

<li><a href="#" class="item"><div><p> Sinnoh : Roark </p><p> Exp. : 787 </p></div></a></li>
<li><a href="#" class="item"><div><p> Sinnoh : Gardenia </p><p> Exp. : 1284 </p></div></a></li>
<li><a href="#" class="item"><div><p> Sinnoh : Maylene </p><p> Exp. : 1844 </p></div></a></li>
<li><a href="#" class="item"><div><p> Sinnoh : Wake </p><p> Exp. : 2154 </p></div></a></li>
<li><a href="#" class="item"><div><p> Sinnoh : Fantina </p><p> Exp. : 1533 </p></div></a></li>
<li><a href="#" class="item"><div><p> Sinnoh : Byron </p><p> Exp. : 2403 </p></div></a></li>
<li><a href="#" class="item"><div><p> Sinnoh : Candice </p><p> Exp. : 3439 </p></div></a></li>
<li><a href="#" class="item"><div><p> Sinnoh : Volkner </p><p> Exp. : 3936 </p></div></a></li>

<li><a href="#" class="item"><div><p> Unova : Cilan/Chili/Cress </p><p> Exp. : 539 </p></div></a></li>
<li><a href="#" class="item"><div><p> Unova : Lenora </p><p> Exp. : 787 </p></div></a></li>
<li><a href="#" class="item"><div><p> Unova : Cheren </p><p> Exp. : 497 </p></div></a></li>
<li><a href="#" class="item"><div><p> Unova : Roxie </p><p> Exp. : 704 </p></div></a></li>
<li><a href="#" class="item"><div><p> Unova : Burgh </p><p> Exp. : 1409 </p></div></a></li>
<li><a href="#" class="item"><div><p> Unova : Elisa </p><p> Exp. : 1781 </p></div></a></li>
<li><a href="#" class="item"><div><p> Unova : Clay </p><p> Exp. : 1968 </p></div></a></li>
<li><a href="#" class="item"><div><p> Unova : Skyla </p><p> Exp. : 2341 </p></div></a></li>
<li><a href="#" class="item"><div><p> Unova : Brycen </p><p> Exp. : 2341 </p></div></a></li>
<li><a href="#" class="item"><div><p> Unova : Drayden </p><p> Exp. : 2900 </p></div></a></li>
<li><a href="#" class="item"><div><p> Unova : Marlon </p><p> Exp. : 3087 </p></div></a></li>

<li><a href="#" class="item"><div><p> Kalos : Viola </p><p> Exp. : 456 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kalos : Grant </p><p> Exp. : 1036 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kalos : Korrina </p><p> Exp. : 1844 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kalos : Ramos </p><p> Exp. : 1968 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kalos : Clemont </p><p> Exp. : 2217 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kalos : Valerie </p><p> Exp. : 2465 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kalos : Olympia </p><p> Exp. : 2838 </p></div></a></li>
<li><a href="#" class="item"><div><p> Kalos : Wulfric </p><p> Exp. : 3522 </p></div></a></li>

<li><a href="#" class="item"><div><p> Alola : Ilima </p><p> Exp. : 953 </p></div></a></li>
<li><a href="#" class="item"><div><p> Alola : Hala </p><p> Exp. : 891 </p></div></a></li>
<li><a href="#" class="item"><div><p> Alola : Lana </p><p> Exp. : 1160 </p></div></a></li>
<li><a href="#" class="item"><div><p> Alola : Kiawe </p><p> Exp. : 1636 </p></div></a></li>
<li><a href="#" class="item"><div><p> Alola : Mallow </p><p> Exp. : 1409 </p></div></a></li>
<li><a href="#" class="item"><div><p> Alola : Olivia </p><p> Exp. : 2196 </p></div></a></li>
<li><a href="#" class="item"><div><p> Alola : Sophocles </p><p> Exp. : 2838 </p></div></a></li>
<li><a href="#" class="item"><div><p> Alola : Acerola </p><p> Exp. : 3107 </p></div></a></li>
<li><a href="#" class="item"><div><p> Alola : Nanu </p><p> Exp. : 2382 </p></div></a></li>
<li><a href="#" class="item"><div><p> Alola : Mina </p><p> Exp. : 3915 </p></div></a></li>
<li><a href="#" class="item"><div><p> Alola : Hapu </p><p> Exp. : 3915 </p></div></a></li>

<li><a href="#" class="item"><div><p> Training Accounts </p><p> Exp. : 8286 </p></div></a></li>
<li><a href="#" class="item"><div><p> Any : Elite Four </p><p> Exp. : 10358 </p></div></a></li>
<li><a href="#" class="item"><div><p> Any : Champion </p><p> Exp. : 18644 </p></div></a></li>
<li><a href="#" class="item"><div><p> Any : Ultimate Trainer </p><p> Exp. : 33145 </p></div></a></li>

<li><a href="#" class="item"><div><p> Wild Poke : Sixteen - 16 </p><p> Exp. : 177 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Fifteen - 15 </p><p> Exp. : 166 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Fourteen - 14 </p><p> Exp. : 155 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Thirteen - 13 </p><p> Exp. : 144 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Twelve - 12 </p><p> Exp. : 133 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Eleven - 11 </p><p> Exp. : 122 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Ten - 10 </p><p> Exp. : 111 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Nine - 9 </p><p> Exp. : 100 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Eight - 8 </p><p> Exp. : 88 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Seven - 7 </p><p> Exp. : 78 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Six - 6 </p><p> Exp. : 67 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Five - 5 </p><p> Exp. : 56 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Four - 4 </p><p> Exp. : 44 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Three - 3 </p><p> Exp. : 33 </p></div></a></li>
<li><a href="#" class="item"><div><p> Wild Poke : Two - 2 </p><p> Exp. : 23 </p></div></a></li>
	</ul>
	<div class="cart">
		<h1>Exp. Calc. V3.3b by Tolga</h1>
		<table bgcolor="#e8ecef" style="text-align: justify;  border: 1px solid;"><tr><td><br />&nbsp;&nbsp;&nbsp;For calculate, fill the target and current; after hitting calculate button, simply drag experiences over the list area. You can put same exp.s multiple time. 
		<br/><p style="text-align:center;">Add and Remove !Try to reach zero!</p></td></tr></table>
		<table style="width:400px;height:auto;min-height:100px;">	
		<tr><td style="height:10px;"> </td><td> </td></tr>	
		<tr><td>Target Experience</td><td>Current Experience</td></tr>
		<tr><td><input type="text" name="txtNumberA" value="" style="width:190px;"></td><td><input type="text" name="txtNumberB" value="" style="width:190px;"> </td></tr>
		<tr><td></td><td><input type="button" name="btnSum" value="Calculate" OnClick="fncSum();" style="width:190px;" ></td></tr>
		</table>
		<div style="background:#95b8e7; overflow-y:scroll; height: 250px;">
		<table id="cartcontent" fitColumns="true" style="width:400px;height:auto;min-height:250px;">
			<thead>
				<tr>
<th field="name" width=160>Name</th>
<th field="quantity" width=80 align="right">How Many?</th>
<th field="exp" width=80 align="right">Exp</th>
<th field="remove" width=80 align="right">Remove</th>
				</tr>
			</thead>			
</form>
		</table>
		</div>
		<p class="total">Total :0</p>		
		<table style="align:right;">
		<tr><td style="width:190px;">Total Missing Experience</td><td><input type="text" name="txtNumberC" value="" style="width:190px;"> </td></tr>
		</table>
		<table>
		<tr><td><br /><br /><br /><img src="./HAFvs2z.jpg"></img></td></tr>
		<tr><td><p style="text-align:center;">Special thanks to Rayorus for raw gym exp. data !</p></td></tr>
		<tr><td><p style="text-align:center;">Last Edited : 2017 - 03 - 02</p></td></tr>
		</table
		
	</div>
</body>
</html>
